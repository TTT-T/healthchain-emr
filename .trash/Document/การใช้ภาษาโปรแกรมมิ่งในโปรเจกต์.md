# การใช้ภาษาโปรแกรมมิ่งในโปรเจกต์ MediCare Connect
## ระบบเชื่อมโยงสุขภาพ

---

## 📋 สรุปการใช้งานภาษาโปรแกรมมิ่ง

โปรเจกต์ **MediCare Connect - ระบบเชื่อมโยงสุขภาพ** ใช้ภาษาโปรแกรมมิ่งหลายภาษาร่วมกัน เพื่อสร้างระบบ EMR (Electronic Medical Records) ที่ครบครันและมีประสิทธิภาพ

---

## 🔷 TypeScript

### **การใช้งานหลัก:**
- **Backend Development** (100% ของโค้ด Backend)
- **Frontend Development** (100% ของโค้ด Frontend)
- **Type Safety** และ **Code Quality**

### **ไฟล์สำคัญ:**
```
backend/src/
├── app.ts                    # Main Application Entry Point
├── server.ts                 # Server Configuration
├── controllers/              # API Controllers (52 files)
├── database/                 # Database Layer (22 files)
├── middleware/               # Express Middleware (4 files)
├── routes/                   # API Routes (13 files)
├── services/                 # Business Logic (4 files)
├── types/                    # Type Definitions (1 file)
└── utils/                    # Utility Functions (4 files)

frontend/src/
├── app/                      # Next.js App Router (119 files)
├── components/               # React Components (45 files)
├── contexts/                 # React Contexts (4 files)
├── hooks/                    # Custom Hooks (7 files)
├── lib/                      # Library Functions (8 files)
├── services/                 # API Services (29 files)
└── types/                    # Type Definitions (4 files)
```

### **Configuration Files:**
- `backend/tsconfig.json` - Backend TypeScript Configuration
- `frontend/tsconfig.json` - Frontend TypeScript Configuration
- `frontend/tsconfig.production.json` - Production TypeScript Configuration

### **ประโยชน์ที่ได้รับ:**
- **Type Safety**: ป้องกันข้อผิดพลาดในขณะพัฒนา
- **IntelliSense**: การช่วยเหลือในการเขียนโค้ด
- **Refactoring**: การปรับปรุงโค้ดที่ปลอดภัย
- **Documentation**: โค้ดเป็นเอกสารในตัวเอง

---

## 🔶 JavaScript

### **การใช้งานหลัก:**
- **Compiled Output** จาก TypeScript
- **Build Scripts** และ **Automation**
- **Configuration Files**
- **Legacy Support**

### **ไฟล์สำคัญ:**
```
backend/dist/                 # Compiled JavaScript Output
├── app.js                    # Compiled Main Application
├── server.js                 # Compiled Server
├── controllers/              # Compiled Controllers
├── database/                 # Compiled Database Files
├── middleware/               # Compiled Middleware
├── routes/                   # Compiled Routes
├── services/                 # Compiled Services
└── utils/                    # Compiled Utilities

frontend/
├── scripts/                  # Build Scripts
│   ├── build.js             # Build Script
│   └── replace-console-logs.js # Console Log Replacement
└── next.config.ts           # Next.js Configuration (TypeScript)
```

### **Configuration Files:**
- `backend/package.json` - Node.js Dependencies และ Scripts
- `frontend/package.json` - Frontend Dependencies และ Scripts
- `backend/ecosystem.config.js` - PM2 Production Configuration
- `backend/nodemon.json` - Development Server Configuration

### **Scripts และ Automation:**
```json
// Backend Scripts
{
  "dev": "tsx watch src/server.ts",
  "build": "tsc",
  "start": "node dist/server.js",
  "test": "jest",
  "migrate": "node scripts/run-migrations.js"
}

// Frontend Scripts
{
  "dev": "next dev --turbopack",
  "build": "next build",
  "start": "next start",
  "test": "jest",
  "lint": "next lint"
}
```

---

## 🟢 HTML

### **การใช้งานหลัก:**
- **JSX/TSX Components** ใน Next.js
- **Server-Side Rendering (SSR)**
- **Static Site Generation (SSG)**
- **Template Structure**

### **ไฟล์สำคัญ:**
```
frontend/src/app/
├── layout.tsx                # Root Layout Component
├── page.tsx                  # Home Page
├── globals.css               # Global CSS Styles
├── accounts/                 # User Account Pages
├── admin/                    # Admin Pages
├── emr/                      # EMR System Pages
├── external-requesters/      # External Requester Pages
└── api/                      # API Routes
```

### **HTML Structure ใน JSX:**
```tsx
// ตัวอย่างจาก layout.tsx
<html lang="th" className={`${geistSans.variable} ${geistMono.variable} ${sarabun.variable}`}>
  <body>
    <ErrorBoundary>
      <ReactQueryProvider>
        <AuthProvider>
          <NotificationProvider>
            <AlertProvider>
              <ToastProvider>
                {children}
                <TokenExpiredNotification />
              </ToastProvider>
            </AlertProvider>
          </NotificationProvider>
        </AuthProvider>
      </ReactQueryProvider>
    </ErrorBoundary>
  </body>
</html>
```

### **Next.js App Router Features:**
- **File-based Routing**: ใช้โครงสร้างไฟล์เป็น route
- **Layout System**: Layout แบบ nested
- **Server Components**: Server-side rendering
- **Client Components**: Client-side interactivity

---

## 🟡 PLpgSQL

### **การใช้งานหลัก:**
- **Database Functions** และ **Stored Procedures**
- **Triggers** และ **Event Handlers**
- **Data Validation** และ **Business Logic**
- **Performance Optimization**

### **ไฟล์สำคัญ:**
```
backend/src/database/migrations/
├── 009_enhance_user_profile_fields.sql    # User Profile Enhancement
├── 016_create_medical_records_table.sql   # Medical Records Table
├── 017_create_consent_requests_table.sql  # Consent Requests Table
└── 018_create_database_management_tables.sql # Database Management
```

### **ตัวอย่าง PLpgSQL Functions:**
```sql
-- BMI Calculation Function
CREATE OR REPLACE FUNCTION calculate_bmi()
RETURNS TRIGGER AS $$
BEGIN
    IF NEW.weight IS NOT NULL AND NEW.height IS NOT NULL AND NEW.height > 0 THEN
        NEW.bmi = ROUND((NEW.weight / ((NEW.height / 100.0) * (NEW.height / 100.0)))::numeric, 2);
    ELSE
        NEW.bmi = NULL;
    END IF;
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- BMI Calculation Trigger
CREATE TRIGGER trigger_calculate_bmi
    BEFORE INSERT OR UPDATE OF weight, height ON users
    FOR EACH ROW EXECUTE FUNCTION calculate_bmi();
```

### **Database Features:**
- **56+ Tables** พร้อม relationships
- **75+ Relationships** ระหว่าง tables
- **Indexes** สำหรับ performance
- **Constraints** สำหรับ data validation
- **Triggers** สำหรับ business logic

---

## 🔴 PowerShell

### **การใช้งานหลัก:**
- **Development Environment Setup**
- **Build และ Deployment Scripts**
- **System Administration**
- **Windows-specific Tasks**

### **ไฟล์สำคัญ:**
```
fix-development-issues.ps1    # Development Issues Fix Script
```

### **ตัวอย่าง PowerShell Script:**
```powershell
# PowerShell script to fix common development issues
Write-Host "🔧 Fixing Development Issues..." -ForegroundColor Green

# Stop all Node.js processes
Write-Host "🛑 Stopping Node.js processes..." -ForegroundColor Yellow
taskkill /F /IM node.exe 2>$null

# Clean frontend caches
Write-Host "🧹 Cleaning frontend caches..." -ForegroundColor Yellow
Set-Location "frontend"
Remove-Item -Recurse -Force .next -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force node_modules -ErrorAction SilentlyContinue

# Reinstall dependencies
Write-Host "📦 Reinstalling dependencies..." -ForegroundColor Yellow
npm install

# Start servers
Write-Host "🚀 Starting servers..." -ForegroundColor Green
Start-Process powershell -ArgumentList "-Command", "cd backend; npm run dev" -WindowStyle Minimized
Start-Process powershell -ArgumentList "-Command", "cd frontend; npm run dev" -WindowStyle Minimized
```

### **หน้าที่หลัก:**
- **Environment Setup**: ตั้งค่า development environment
- **Cache Management**: ล้าง cache และ rebuild
- **Process Management**: จัดการ Node.js processes
- **Automation**: อัตโนมัติการทำงานที่ซ้ำซ้อน

---

## 🎨 CSS

### **การใช้งานหลัก:**
- **Styling** และ **Layout**
- **Responsive Design**
- **Theme Management**
- **Animation** และ **Transitions**

### **ไฟล์สำคัญ:**
```
frontend/src/app/
├── globals.css               # Global CSS Styles
└── layout.tsx                # Layout with CSS imports
```

### **CSS Framework:**
- **Tailwind CSS**: Utility-first CSS framework
- **Custom CSS**: Custom styles และ animations
- **CSS Variables**: สำหรับ theme management

### **ตัวอย่าง CSS:**
```css
/* Global CSS Variables */
:root {
  --background: #ffffff;
  --foreground: #171717;
  --font-sarabun: 'Sarabun', sans-serif;
  --font-geist-sans: var(--font-geist-sans);
  --font-geist-mono: var(--font-geist-mono);
}

/* Custom Animations */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Utility Classes */
.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

.animate-slide-in {
  animation: slide-in 0.4s ease-out;
}

/* Glass Effect */
.glass-soft {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(148, 163, 184, 0.2);
}
```

### **Styling Approach:**
- **Tailwind CSS**: Utility classes สำหรับ rapid development
- **Custom CSS**: สำหรับ animations และ complex styles
- **CSS Variables**: สำหรับ theme management
- **Responsive Design**: Mobile-first approach

---

## 📊 สรุปการใช้งานภาษาโปรแกรมมิ่ง

| ภาษา | เปอร์เซ็นต์การใช้งาน | หน้าที่หลัก | ไฟล์สำคัญ |
|------|---------------------|------------|-----------|
| **TypeScript** | 85% | Backend & Frontend Development | 200+ files |
| **JavaScript** | 10% | Build Scripts & Configuration | 20+ files |
| **HTML/JSX** | 3% | UI Structure & Templates | 119 pages |
| **PLpgSQL** | 1% | Database Functions & Triggers | 18 migrations |
| **PowerShell** | 0.5% | Development Scripts | 1 script |
| **CSS** | 0.5% | Styling & Layout | 1 main file |

---

## 🎯 ประโยชน์ของการใช้หลายภาษา

### 1. **TypeScript (หลัก)**
- **Type Safety**: ป้องกันข้อผิดพลาด
- **Developer Experience**: IntelliSense และ debugging
- **Maintainability**: โค้ดที่ง่ายต่อการบำรุงรักษา
- **Scalability**: รองรับการขยายระบบ

### 2. **JavaScript (รอง)**
- **Compatibility**: รองรับ legacy systems
- **Build Tools**: Scripts และ automation
- **Configuration**: Environment setup

### 3. **HTML/JSX (UI)**
- **Structure**: โครงสร้างหน้าเว็บ
- **SEO**: Search engine optimization
- **Accessibility**: การเข้าถึงได้

### 4. **PLpgSQL (Database)**
- **Performance**: Database operations ที่เร็ว
- **Data Integrity**: การตรวจสอบข้อมูล
- **Business Logic**: Logic ที่ซับซ้อนใน database

### 5. **PowerShell (Automation)**
- **Windows Integration**: ทำงานร่วมกับ Windows
- **System Administration**: จัดการระบบ
- **Automation**: อัตโนมัติการทำงาน

### 6. **CSS (Styling)**
- **User Experience**: ประสบการณ์ผู้ใช้
- **Responsive Design**: รองรับทุกอุปกรณ์
- **Branding**: เอกลักษณ์ของระบบ

---

## 🚀 การพัฒนาต่อ

### **แผนการพัฒนาภาษาโปรแกรมมิ่ง:**
1. **TypeScript**: เพิ่ม strict mode และ advanced types
2. **JavaScript**: เพิ่ม build optimization
3. **HTML/JSX**: เพิ่ม accessibility features
4. **PLpgSQL**: เพิ่ม performance optimization
5. **PowerShell**: เพิ่ม deployment automation
6. **CSS**: เพิ่ม dark mode และ advanced animations

### **เทคโนโลยีใหม่ที่อาจเพิ่ม:**
- **WebAssembly**: สำหรับ performance-critical operations
- **GraphQL**: สำหรับ API optimization
- **Rust**: สำหรับ system-level operations
- **Python**: สำหรับ AI/ML integration

---

## 📝 สรุป

โปรเจกต์ **MediCare Connect** ใช้ภาษาโปรแกรมมิ่งหลายภาษาร่วมกันอย่างมีประสิทธิภาพ:

- **TypeScript** เป็นภาษาหลักสำหรับ development
- **JavaScript** สำหรับ scripts และ configuration
- **HTML/JSX** สำหรับ UI structure
- **PLpgSQL** สำหรับ database operations
- **PowerShell** สำหรับ automation
- **CSS** สำหรับ styling

การผสมผสานภาษาต่างๆ ทำให้ได้ระบบที่:
- **มีประสิทธิภาพสูง**
- **ง่ายต่อการบำรุงรักษา**
- **รองรับการขยายระบบ**
- **มีประสบการณ์ผู้ใช้ที่ดี**
- **ปลอดภัยและเสถียร**
